define(["./core","./var/rnotwhite"],function(e,t){function i(i){var r=n[i]={};return e.each(i.match(t)||[],function(e,t){r[t]=!0}),r}var n={};return e.Callbacks=function(t){t="string"==typeof t?n[t]||i(t):e.extend({},t);var r,o,a,s,l,u,f=[],c=!t.once&&[],d=function(e){for(r=t.memory&&e,o=!0,u=s||0,s=0,l=f.length,a=!0;f&&l>u;u++)if(f[u].apply(e[0],e[1])===!1&&t.stopOnFalse){r=!1;break}a=!1,f&&(c?c.length&&d(c.shift()):r?f=[]:p.disable())},p={add:function(){if(f){var n=f.length;!function i(n){e.each(n,function(n,r){var o=e.type(r);"function"===o?t.unique&&p.has(r)||f.push(r):r&&r.length&&"string"!==o&&i(r)})}(arguments),a?l=f.length:r&&(s=n,d(r))}return this},remove:function(){return f&&e.each(arguments,function(t,n){for(var i;(i=e.inArray(n,f,i))>-1;)f.splice(i,1),a&&(l>=i&&l--,u>=i&&u--)}),this},has:function(t){return t?e.inArray(t,f)>-1:!(!f||!f.length)},empty:function(){return f=[],l=0,this},disable:function(){return f=c=r=void 0,this},disabled:function(){return!f},lock:function(){return c=void 0,r||p.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!f||o&&!c||(t=t||[],t=[e,t.slice?t.slice():t],a?c.push(t):d(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!o}};return p},e});