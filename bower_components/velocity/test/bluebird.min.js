!function(e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):"undefined"!=typeof window?window.Promise=e():"undefined"!=typeof global?global.Promise=e():"undefined"!=typeof self&&(self.Promise=e())}(function(){var define,module,exports;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return i(n?n:e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";t.exports=function(e){function n(e){var n=new t(e),r=n.promise();return r.isRejected()?r:(n.setHowMany(1),n.setUnwrap(),n.init(),r)}var t=e._SomePromiseArray;e.any=function(e){return n(e)},e.prototype.any=function(){return n(this)}}},{}],2:[function(e,t,n){"use strict";function l(){this._isTickUsed=!1,this._schedule=r,this._length=0,this._lateBuffer=new i(16),this._functionBuffer=new i(65536);var e=this;this.consumeFunctionBuffer=function(){e._consumeFunctionBuffer()}}var r=e("./schedule.js"),i=e("./queue.js"),o=e("./util.js").errorObj,a=e("./util.js").tryCatch1,s="undefined"!=typeof process?process:void 0;l.prototype.haveItemsQueued=function(){return this._length>0},l.prototype.invokeLater=function(e,t,n){void 0===s||null==s.domain||e.domain||(e=s.domain.bind(e)),this._lateBuffer.push(e,t,n),this._queueTick()},l.prototype.invoke=function(e,t,n){void 0===s||null==s.domain||e.domain||(e=s.domain.bind(e));var r=this._functionBuffer;r.push(e,t,n),this._length=r.length(),this._queueTick()},l.prototype._consumeFunctionBuffer=function(){for(var e=this._functionBuffer;e.length()>0;){var t=e.shift(),n=e.shift(),r=e.shift();t.call(n,r)}this._reset(),this._consumeLateBuffer()},l.prototype._consumeLateBuffer=function(){for(var e=this._lateBuffer;e.length()>0;){var t=e.shift(),n=e.shift(),r=e.shift(),i=a(t,n,r);if(i===o){if(this._queueTick(),null==t.domain)throw i.e;t.domain.emit("error",i.e)}}},l.prototype._queueTick=function(){this._isTickUsed||(this._schedule(this.consumeFunctionBuffer),this._isTickUsed=!0)},l.prototype._reset=function(){this._isTickUsed=!1,this._length=0},t.exports=new l},{"./queue.js":25,"./schedule.js":28,"./util.js":35}],3:[function(e,t,n){"use strict";var r=e("./promise.js")();t.exports=r},{"./promise.js":20}],4:[function(e,t,n){"use strict";var r=Object.create,i=r&&r(null),o=r&&r(null);i[" size"]=o[" size"]=0,t.exports=function(t){function s(e){return new Function("obj","                                             \n        'use strict'                                                         \n        var len = this.length;                                               \n        switch(len) {                                                        \n            case 1: return obj.methodName(this[0]);                          \n            case 2: return obj.methodName(this[0], this[1]);                 \n            case 3: return obj.methodName(this[0], this[1], this[2]);        \n            case 0: return obj.methodName();                                 \n            default: return obj.methodName.apply(obj, this);                 \n        }                                                                    \n        ".replace(/methodName/g,e))}function l(e){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",e))}function u(e,t,n){var r=n[e];if("function"!=typeof r){if(!a(e))return null;if(r=t(e),n[e]=r,n[" size"]++,n[" size"]>512){for(var i=Object.keys(n),o=0;256>o;++o)delete n[i[o]];n[" size"]=i.length-256}}return r}function f(e){return u(e,s,i)}function c(e){return u(e,l,o)}function d(e){return e[this.pop()].apply(e,this)}function p(e){return e[this]}function h(e){return e[this]}var n=e("./util.js"),r=n.canEvaluate,a=n.isIdentifier;t.prototype.call=function(e){for(var t=arguments.length,n=new Array(t-1),i=1;t>i;++i)n[i-1]=arguments[i];if(r){var o=f(e);if(null!==o)return this._then(o,void 0,void 0,n,void 0)}return n.push(e),this._then(d,void 0,void 0,n,void 0)},t.prototype.get=function(e){var n,t="number"==typeof e;if(t)n=h;else if(r){var i=c(e);n=null!==i?i:p}else n=p;return this._then(n,void 0,void 0,e,void 0)}}},{"./util.js":35}],5:[function(e,t,n){"use strict";t.exports=function(t,n){var r=e("./errors.js"),i=r.canAttach,o=e("./async.js"),a=r.CancellationError;t.prototype._cancel=function(e){if(!this.isCancellable())return this;for(var t,n=this;void 0!==(t=n._cancellationParent)&&t.isCancellable();)n=t;n._attachExtraTrace(e),n._rejectUnchecked(e)},t.prototype.cancel=function(e){return this.isCancellable()?(e=void 0!==e?i(e)?e:new Error(e+""):new a,o.invokeLater(this._cancel,this,e),this):this},t.prototype.cancellable=function(){return this._cancellable()?this:(this._setCancellable(),this._cancellationParent=void 0,this)},t.prototype.uncancellable=function(){var e=new t(n);return e._propagateFrom(this,6),e._follow(this),e._unsetCancellable(),e},t.prototype.fork=function(e,t,n){var r=this._then(e,t,n,void 0,void 0);return r._setCancellable(),r._cancellationParent=void 0,r}}},{"./async.js":2,"./errors.js":10}],6:[function(e,t,n){"use strict";t.exports=function(){function a(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e.toString();var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(t))try{var r=JSON.stringify(e);t=r}catch(i){}0===t.length&&(t="(empty array)")}return"(<"+s(t)+">, no stack trace)"}function s(e){var t=41;return e.length<t?e:e.substr(0,t-3)+"..."}function l(e,t){this.captureStackTrace(l,t)}var t=e("./util.js").inherits,n=e("./es5.js").defineProperty,r=new RegExp("\\b(?:[a-zA-Z0-9.]+\\$_\\w+|tryCatch(?:1|2|3|4|Apply)|new \\w*PromiseArray|\\w*PromiseArray\\.\\w*PromiseArray|setTimeout|CatchFilter\\$_\\w+|makeNodePromisified|processImmediate|process._tickCallback|nextTick|Async\\$\\w+)\\b"),i=null,o=null;t(l,Error),l.prototype.captureStackTrace=function(e,t){u(this,e,t)},l.possiblyUnhandledRejection=function(e){if("object"==typeof console){var t;if("object"==typeof e||"function"==typeof e){var n=e.stack;t="Possibly unhandled "+o(n,e)}else t="Possibly unhandled "+String(e);"function"==typeof console.error||"object"==typeof console.error?console.error(t):("function"==typeof console.log||"object"==typeof console.log)&&console.log(t)}},l.combine=function(e,t){for(var n=e.length-1,o=t.length-1;o>=0;--o){var a=t[o];if(e[n]!==a)break;e.pop(),n--}e.push("From previous event:");for(var s=e.concat(t),l=[],o=0,u=s.length;u>o;++o)r.test(s[o])||o>0&&!i.test(s[o])&&"From previous event:"!==s[o]||l.push(s[o]);return l},l.protectErrorMessageNewlines=function(e){for(var t=0;t<e.length&&!i.test(e[t]);++t);if(!(1>=t)){for(var n=[],r=0;t>r;++r)n.push(e.shift());e.unshift(n.join("\x00"))}},l.isSupported=function(){return"function"==typeof u};var u=function h(){if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){i=/^\s*at\s*/,o=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.name+". "+t.message:a(t)};var e=Error.captureStackTrace;return function(t,n){e(t,n)}}var t=new Error;if("string"==typeof t.stack&&"function"==typeof"".startsWith&&t.stack.startsWith("stackDetection@")&&"stackDetection"===h.name){n(Error,"stackTraceLimit",{writable:!0,enumerable:!1,configurable:!1,value:25}),i=/@/;var r=/[@\n]/;return o=function(e,t){return"string"==typeof e?t.name+". "+t.message+"\n"+e:void 0!==t.name&&void 0!==t.message?t.name+". "+t.message:a(t)},function(e){for(var t=(new Error).stack,n=t.split(r),i=n.length,o="",a=0;i>a;a+=2)o+=n[a],o+="@",o+=n[a+1],o+="\n";e.stack=o}}return o=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?a(t):t.name+". "+t.message},null}();return l}},{"./es5.js":12,"./util.js":35}],7:[function(e,t,n){"use strict";t.exports=function(t){function l(e,t,n){this._instances=e,this._callback=t,this._promise=n}function u(e,t){var n={},r=i(e,n,t);if(r===o)return r;var l=a(n);return l.length?(o.e=new s("Catch filter must inherit from Error or be a simple predicate function"),o):r}var n=e("./util.js"),r=e("./errors.js"),i=n.tryCatch1,o=n.errorObj,a=e("./es5.js").keys,s=r.TypeError;return l.prototype.doFilter=function(e){for(var n=this._callback,a=this._promise,s=a._boundTo,l=0,f=this._instances.length;f>l;++l){var c=this._instances[l],d=c===Error||null!=c&&c.prototype instanceof Error;if(d&&e instanceof c){var p=i(n,s,e);return p===o?(t.e=p.e,t):p}if("function"==typeof c&&!d){var h=u(c,e);if(h===o){var v=r.canAttach(o.e)?o.e:new Error(o.e+"");this._promise._attachExtraTrace(v),e=o.e;break}if(h){var p=i(n,s,e);return p===o?(t.e=p.e,t):p}}}return t.e=e,t},l}},{"./errors.js":10,"./es5.js":12,"./util.js":35}],8:[function(e,t,n){"use strict";var r=e("./util.js"),i=r.isPrimitive,o=r.wrapsPrimitiveReceiver;t.exports=function(e){var t=function(){return this},n=function(){throw this},r=function(e,t){return 1===t?function(){throw e}:2===t?function(){return e}:void 0};e.prototype["return"]=e.prototype.thenReturn=function(e){return o&&i(e)?this._then(r(e,2),void 0,void 0,void 0,void 0):this._then(t,void 0,void 0,e,void 0)},e.prototype["throw"]=e.prototype.thenThrow=function(e){return o&&i(e)?this._then(r(e,1),void 0,void 0,void 0,void 0):this._then(n,void 0,void 0,e,void 0)}}},{"./util.js":35}],9:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.reduce;e.prototype.each=function(e){return n(this,e,null,t)},e.each=function(e,r){return n(e,r,null,t)}}},{}],10:[function(e,t,n){"use strict";function s(e){try{a(e,"isOperational",!0)}catch(t){}}function l(e){return null==e?!1:e instanceof x||e.isOperational===!0}function u(e){return e instanceof Error}function f(e){return u(e)}function c(e,t){function n(r){return this instanceof n?(this.message="string"==typeof r?r:t,this.name=e,void(Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new n(r)}return o(n,Error),n}function x(e){this.name="OperationalError",this.message=e,this.cause=e,this.isOperational=!0,e instanceof Error?(this.message=e.message,this.stack=e.stack):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var d,p,r=e("./es5.js").freeze,i=e("./util.js"),o=i.inherits,a=i.notEnumerableProp,h=c("CancellationError","cancellation error"),v=c("TimeoutError","timeout error"),m=c("AggregateError","aggregate error");try{d=TypeError,p=RangeError}catch(g){d=c("TypeError","type error"),p=c("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),b=0;b<y.length;++b)"function"==typeof Array.prototype[y[b]]&&(m.prototype[y[b]]=Array.prototype[y[b]]);m.prototype.length=0,m.prototype.isOperational=!0;var w=0;m.prototype.toString=function(){var e=Array(4*w+1).join(" "),t="\n"+e+"AggregateError of:\n";w++,e=Array(4*w+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=e+i[o];r=i.join("\n"),t+=r+"\n"}return w--,t},o(x,Error);var T="__BluebirdErrorTypes__",S=Error[T];S||(S=r({CancellationError:h,TimeoutError:v,OperationalError:x,RejectionError:x,AggregateError:m}),a(Error,T,S)),t.exports={Error:Error,TypeError:d,RangeError:p,CancellationError:S.CancellationError,OperationalError:S.OperationalError,TimeoutError:S.TimeoutError,AggregateError:S.AggregateError,originatesFromRejection:l,markAsOriginatingFromRejection:s,canAttach:f}},{"./es5.js":12,"./util.js":35}],11:[function(e,t,n){"use strict";t.exports=function(t){function r(e){var r=new n(e),i=t.rejected(r),o=i._peekContext();return null!=o&&o._attachExtraTrace(r),i}var n=e("./errors.js").TypeError;return r}},{"./errors.js":10}],12:[function(e,t,n){var r=function(){"use strict";return void 0===this}();if(r)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,keys:Object.keys,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t},l=function(e,t,n){return e[t]=n.value,e},u=function(e){return e},f=function(e){try{return Object(e).constructor.prototype}catch(t){return a}},c=function(e){try{return"[object Array]"===o.call(e)}catch(t){return!1}};t.exports={isArray:c,keys:s,defineProperty:l,freeze:u,getPrototypeOf:f,isES5:r}}},{}],13:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,r){return n(this,e,r,t)},e.filter=function(e,r,i){return n(e,r,i,t)}}},{}],14:[function(e,t,n){"use strict";t.exports=function(t,n,r){function l(){return this}function u(){throw this}function f(e){return function(){return e}}function c(e){return function(){throw e}}function d(e,t,n){var r;return r=o&&a(t)?n?f(t):c(t):n?l:u,e._then(r,s,void 0,t,void 0)}function p(e){var i=this.promise,o=this.handler,a=i._isBound()?o.call(i._boundTo):o();if(void 0!==a){var s=r(a,void 0);if(s instanceof t)return d(s,e,i.isFulfilled())}return i.isRejected()?(n.e=e,n):e}function h(e){var n=this.promise,i=this.handler,o=n._isBound()?i.call(n._boundTo,e):i(e);if(void 0!==o){var a=r(o,void 0);if(a instanceof t)return d(a,e,!0)}return e}var i=e("./util.js"),o=i.wrapsPrimitiveReceiver,a=i.isPrimitive,s=i.thrower;t.prototype._passThroughHandler=function(e,t){if("function"!=typeof e)return this.then();var n={promise:this,handler:e};return this._then(t?p:h,t?p:void 0,void 0,n,void 0)},t.prototype.lastly=t.prototype["finally"]=function(e){return this._passThroughHandler(e,!0)},t.prototype.tap=function(e){return this._passThroughHandler(e,!1)}}},{"./util.js":35}],15:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function d(e,n){for(var r=u,o=t,a=n.length,s=0;a>s;++s){var l=f(n[s],void 0,e);if(l===r)return o.reject(r.e);var c=i(l,d);if(c instanceof o)return c}return null}function p(e,n,i){var o=this._promise=new t(r);o._setTrace(void 0),this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(c):c}var o=e("./errors.js"),a=o.TypeError,s=e("./util.js").deprecated,l=e("./util.js"),u=l.errorObj,f=l.tryCatch1,c=[];p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},p.prototype._continue=function(e){if(e===u){this._generator=void 0;var n=o.canAttach(e.e)?e.e:new Error(e.e+"");return this._promise._attachExtraTrace(n),void this._promise._reject(e.e,n)}var r=e.value;if(e.done===!0)this._generator=void 0,this._promise._tryFollow(r)||this._promise._fulfill(r);else{var s=i(r,void 0);if(!(s instanceof t)&&(s=d(s,this._yieldHandlers),null===s))return void this._throw(new a("A value was yielded that could not be treated as a promise"));s._then(this._next,this._throw,void 0,this,null)}},p.prototype._throw=function(e){o.canAttach(e)&&this._promise._attachExtraTrace(e),this._continue(f(this._generator["throw"],this._generator,e))},p.prototype._next=function(e){this._continue(f(this._generator.next,this._generator,e))},t.coroutine=function(e,t){if("function"!=typeof e)throw new a("generatorFunction must be a function");var n=Object(t).yieldHandler,r=p;return function(){var t=e.apply(this,arguments),i=new r(void 0,void 0,n);return i._generator=t,i._next(void 0),i.promise()}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new a("fn must be a function");c.push(e)},t.spawn=function(e){if(s("Promise.spawn is deprecated. Use Promise.coroutine instead."),"function"!=typeof e)return n("generatorFunction must be a function");var r=new p(e,this),i=r.promise();return r._run(t.spawn),i}}},{"./errors.js":10,"./util.js":35}],16:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util.js"),a=o.canEvaluate,s=o.tryCatch1,l=o.errorObj;if(a){for(var u=function(e){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,e))},f=function(e){for(var t=[],n=1;e>=n;++n)t.push("holder.p"+n);return new Function("holder","                                      \n            'use strict';                                                    \n            var callback = holder.fn;                                        \n            return callback(values);                                         \n            ".replace(/values/g,t.join(", ")))},c=[],d=[void 0],p=1;5>=p;++p)c.push(u(p)),d.push(f(p));var h=function(e,t){this.p1=this.p2=this.p3=this.p4=this.p5=null,this.fn=t,this.total=e,this.now=0};h.prototype.callers=d,h.prototype.checkFulfillment=function(e){var t=this.now;t++;var n=this.total;if(t>=n){var r=this.callers[n],i=s(r,void 0,this);i===l?e._rejectUnchecked(i.e):e._tryFollow(i)||e._fulfillUnchecked(i)}else this.now=t}}t.join=function(){var o,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]&&(o=arguments[e],6>e&&a)){var s=new t(i);s._setTrace(void 0);for(var l=new h(e,o),u=s._reject,f=c,d=0;e>d;++d){var p=r(arguments[d],void 0);p instanceof t?p.isPending()?p._then(f[d],u,void 0,s,l):p.isFulfilled()?f[d].call(s,p._settledValue,l):(s._reject(p._settledValue),p._unsetRejectionIsUnhandled()):f[d].call(s,p,l)}return s}for(var v=arguments.length,m=new Array(v),g=0;v>g;++g)m[g]=arguments[g];var s=new n(m).promise();return void 0!==o?s.spread(o):s}}},{"./util.js":35}],17:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){function c(e,t,n,r){this.constructor$(e),this._callback=t,this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=n>=1?[]:f,this._init$(void 0,-2)}function d(e,t,n,r){var i="object"==typeof n&&null!==n?n.concurrency:0;return i="number"==typeof i&&isFinite(i)&&i>=1?i:0,new c(e,t,i,r)}var a=e("./util.js"),s=a.tryCatch3,l=a.errorObj,u={},f=[];a.inherits(c,n),c.prototype._init=function(){},c.prototype._promiseFulfilled=function(e,n){var r=this._values;if(null!==r){var o=this.length(),a=this._preservedValues,f=this._limit;if(r[n]===u){if(r[n]=e,f>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(f>=1&&this._inFlight>=f)return r[n]=e,void this._queue.push(n);null!==a&&(a[n]=e);var c=this._callback,d=this._promise._boundTo,p=s(c,d,e,n,o);if(p===l)return this._reject(p.e);var h=i(p,void 0);if(h instanceof t){if(h.isPending())return f>=1&&this._inFlight++,r[n]=u,h._proxyPromiseArray(this,n);if(!h.isFulfilled())return h._unsetRejectionIsUnhandled(),this._reject(h.reason());p=h.value()}r[n]=p}var v=++this._totalResolved;v>=o&&(null!==a?this._filter(r,a):this._resolve(r))}},c.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){var r=e.pop();this._promiseFulfilled(n[r],r)}},c.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),i=0,o=0;n>o;++o)e[o]&&(r[i++]=t[o]);r.length=i,this._resolve(r)},c.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return"function"!=typeof e?r("fn must be a function"):d(this,e,t,null).promise()},t.map=function(e,t,n,i){return"function"!=typeof t?r("fn must be a function"):d(e,t,n,i).promise()}}},{"./util.js":35}],18:[function(e,t,n){"use strict";t.exports=function(t){function s(e){throw e}function l(e,t){if(!n.isArray(e))return u(e,t);var i=n.tryCatchApply(this,[null].concat(e),t);i===a&&r.invokeLater(s,void 0,i.e)}function u(e,t){var n=this,l=void 0===e?o(n,t,null):i(n,t,null,e);l===a&&r.invokeLater(s,void 0,l.e)}function f(e,t){var n=this,i=o(n,t,e);i===a&&r.invokeLater(s,void 0,i.e)}var n=e("./util.js"),r=e("./async.js"),i=n.tryCatch2,o=n.tryCatch1,a=n.errorObj;t.prototype.nodeify=function(e,t){if("function"==typeof e){var n=u;void 0!==t&&Object(t).spread&&(n=l),this._then(n,f,void 0,e,this._boundTo)}return this}}},{"./async.js":2,"./util.js":35}],19:[function(e,t,n){"use strict";t.exports=function(t,n){var r=e("./util.js"),i=e("./async.js"),o=e("./errors.js"),a=r.tryCatch1,s=r.errorObj;t.prototype.progressed=function(e){return this._then(void 0,void 0,e,void 0,void 0)},t.prototype._progress=function(e){this._isFollowingOrFulfilledOrRejected()||this._progressUnchecked(e)},t.prototype._progressHandlerAt=function(e){return 0===e?this._progressHandler0:this[(e<<2)+e-5+2]},t.prototype._doProgressWith=function(e){var n=e.value,r=e.handler,i=e.promise,l=e.receiver,u=a(r,l,n);if(u===s){if(null!=u.e&&"StopProgressPropagation"!==u.e.name){var f=o.canAttach(u.e)?u.e:new Error(u.e+"");i._attachExtraTrace(f),i._progress(u.e)}}else u instanceof t?u._then(i._progress,null,null,i,void 0):i._progress(u)},t.prototype._progressUnchecked=function(e){if(this.isPending())for(var r=this._length(),o=this._progress,a=0;r>a;a++){var s=this._progressHandlerAt(a),l=this._promiseAt(a);if(l instanceof t)"function"==typeof s?i.invoke(this._doProgressWith,this,{handler:s,promise:l,receiver:this._receiverAt(a),value:e}):i.invoke(o,l,e);else{var u=this._receiverAt(a);"function"==typeof s?s.call(u,e,l):u instanceof t&&u._isProxied()?u._progressUnchecked(e):u instanceof n&&u._promiseProgressed(e,l)}}}}},{"./async.js":2,"./errors.js":10,"./util.js":35}],20:[function(e,t,n){"use strict";function i(e){try{Promise===e&&(Promise=r)}catch(t){}return e}var r;"undefined"!=typeof Promise&&(r=Promise),t.exports=function(){function A(e){if("function"!=typeof e)throw new b("the promise constructor requires a resolver function");if(this.constructor!==A)throw new b("the promise constructor cannot be invoked directly");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,this._boundTo=void 0,e!==o&&this._resolveFromResolver(e)}var t=e("./util.js"),n=e("./async.js"),r=e("./errors.js"),o=function(){},a={},s={e:null},l=e("./thenables.js")(A,o),u=e("./promise_array.js")(A,o,l),f=e("./captured_trace.js")(),c=e("./catch_filter.js")(s),d=e("./promise_resolver.js"),p=t.isArray,h=t.errorObj,v=t.tryCatch1,m=t.tryCatch2,g=t.tryCatchApply,y=r.RangeError,b=r.TypeError,w=r.CancellationError,x=r.TimeoutError,T=r.OperationalError,S=r.originatesFromRejection,C=r.markAsOriginatingFromRejection,_=r.canAttach,k=t.thrower,j=e("./errors_api_rejection")(A),E=function(){return new b("circular promise resolution chain")};A.prototype.bind=function(e){var t=new A(o);return t._follow(this),t._propagateFrom(this,3),t._setBoundTo(e),t},A.prototype.toString=function(){return"[object Promise]"},A.prototype.caught=A.prototype["catch"]=function(e){var t=arguments.length;if(t>1){var o,r=new Array(t-1),i=0;for(o=0;t-1>o;++o){var a=arguments[o];if("function"!=typeof a){var s=new b("A catch filter must be an error constructor or a filter function");return this._attachExtraTrace(s),void n.invoke(this._reject,this,s)}r[i++]=a}r.length=i,e=arguments[o],this._resetTrace();var l=new c(r,e,this);return this._then(void 0,l.doFilter,void 0,l,void 0)}return this._then(void 0,e,void 0,void 0,void 0)},A.prototype.then=function(e,t,n){return this._then(e,t,n,void 0,void 0)},A.prototype.done=function(e,t,n){var r=this._then(e,t,n,void 0,void 0);r._setIsFinal()},A.prototype.spread=function(e,t){return this._then(e,t,void 0,a,void 0)},A.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},A.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this._settledValue,e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this._settledValue,e.isRejected=!0),e},A.prototype.all=function(){return new u(this).promise()},A.is=function(e){return e instanceof A},A.all=function(e){return new u(e).promise()},A.prototype.error=function(e){return this.caught(S,e)},A.prototype._resolveFromSyncValue=function(e){if(e===h)this._cleanValues(),this._setRejected(),this._settledValue=e.e,this._ensurePossibleRejectionHandled();else{var t=l(e,void 0);t instanceof A?this._follow(t):(this._cleanValues(),this._setFulfilled(),this._settledValue=e)}},A.method=function(e){if("function"!=typeof e)throw new b("fn must be a function");return function(){var t;switch(arguments.length){case 0:t=v(e,this,void 0);break;case 1:t=v(e,this,arguments[0]);break;case 2:t=m(e,this,arguments[0],arguments[1]);break;default:for(var n=arguments.length,r=new Array(n),i=0;n>i;++i)r[i]=arguments[i];t=g(e,r,this)}var a=new A(o);return a._setTrace(void 0),a._resolveFromSyncValue(t),a}},A.attempt=A["try"]=function(e,t,n){if("function"!=typeof e)return j("fn must be a function");var r=p(t)?g(e,t,n):v(e,n,t),i=new A(o);return i._setTrace(void 0),i._resolveFromSyncValue(r),i},A.defer=A.pending=function(){var e=new A(o);return e._setTrace(void 0),new d(e)},A.bind=function(e){var t=new A(o);return t._setTrace(void 0),t._setFulfilled(),t._setBoundTo(e),t},A.cast=function(e){var t=l(e,void 0);if(!(t instanceof A)){var n=t;t=new A(o),t._setTrace(void 0),t._setFulfilled(),t._cleanValues(),t._settledValue=n}return t},A.resolve=A.fulfilled=A.cast,A.reject=A.rejected=function(e){var t=new A(o);if(t._setTrace(void 0),C(e),t._cleanValues(),t._setRejected(),t._settledValue=e,!_(e)){var n=new Error(e+"");t._setCarriedStackTrace(n)}return t._ensurePossibleRejectionHandled(),t},A.onPossiblyUnhandledRejection=function(e){f.possiblyUnhandledRejection="function"==typeof e?e:void 0};var N;A.onUnhandledRejectionHandled=function(e){N="function"==typeof e?e:void 0};var P=!("undefined"==typeof process||"string"!=typeof process.execPath||"object"!=typeof process.env||!process.env.BLUEBIRD_DEBUG&&"development"!==process.env.NODE_ENV);A.longStackTraces=function(){if(n.haveItemsQueued()&&P===!1)throw new Error("cannot enable long stack traces after promises have been created");P=f.isSupported()},A.hasLongStackTraces=function(){return P&&f.isSupported()},A.prototype._then=function(e,t,r,i,a){var s=void 0!==a,l=s?a:new A(o);if(!s){if(P){var u=this._peekContext()===this._traceParent;l._traceParent=u?this._traceParent:this}l._propagateFrom(this,7)}var f=this._addCallbacks(e,t,r,l,i);return this.isResolved()&&n.invoke(this._queueSettleAt,this,f),l},A.prototype._length=function(){return 262143&this._bitField},A.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},A.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},A.prototype._setLength=function(e){this._bitField=-262144&this._bitField|262143&e},A.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},A.prototype._setRejected=function(){this._bitField=134217728|this._bitField},A.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},A.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},A.prototype._isFinal=function(){return(33554432&this._bitField)>0},A.prototype._cancellable=function(){return(67108864&this._bitField)>0},A.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},A.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},A.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},A.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},A.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},A.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},A.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-524289&this._bitField},A.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},A.prototype._setCarriedStackTrace=function(e){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=e},A.prototype._unsetCarriedStackTrace=function(){this._bitField=-1048577&this._bitField,this._fulfillmentHandler0=void 0},A.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},A.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},A.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[(e<<2)+e-5+4];return this._isBound()&&void 0===t?this._boundTo:t},A.prototype._promiseAt=function(e){return 0===e?this._promise0:this[(e<<2)+e-5+3]},A.prototype._fulfillmentHandlerAt=function(e){return 0===e?this._fulfillmentHandler0:this[(e<<2)+e-5+0]},A.prototype._rejectionHandlerAt=function(e){return 0===e?this._rejectionHandler0:this[(e<<2)+e-5+1]},A.prototype._addCallbacks=function(e,t,n,r,i){var o=this._length();if(o>=262138&&(o=0,this._setLength(0)),0===o)this._promise0=r,void 0!==i&&(this._receiver0=i),"function"!=typeof e||this._isCarryingStackTrace()||(this._fulfillmentHandler0=e),"function"==typeof t&&(this._rejectionHandler0=t),"function"==typeof n&&(this._progressHandler0=n);else{var a=(o<<2)+o-5;this[a+3]=r,this[a+4]=i,this[a+0]="function"==typeof e?e:void 0,this[a+1]="function"==typeof t?t:void 0,this[a+2]="function"==typeof n?n:void 0}return this._setLength(o+1),o},A.prototype._setProxyHandlers=function(e,t){var n=this._length();if(n>=262138&&(n=0,this._setLength(0)),0===n)this._promise0=t,this._receiver0=e;else{var r=(n<<2)+n-5;this[r+3]=t,this[r+4]=e,this[r+0]=this[r+1]=this[r+2]=void 0}this._setLength(n+1)},A.prototype._proxyPromiseArray=function(e,t){this._setProxyHandlers(e,t)},A.prototype._proxyPromise=function(e){e._setProxied(),this._setProxyHandlers(e,-1)},A.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=8388608|this._bitField,this._boundTo=e):this._bitField=-8388609&this._bitField},A.prototype._isBound=function(){return 8388608===(8388608&this._bitField)},A.prototype._resolveFromResolver=function(e){function n(e){t._tryFollow(e)||t._fulfill(e)}function r(e){var n=_(e)?e:new Error(e+"");t._attachExtraTrace(n),C(e),t._reject(e,n===e?void 0:n)}var t=this;this._setTrace(void 0),this._pushContext();var i=m(e,void 0,n,r);if(this._popContext(),void 0!==i&&i===h){var o=i.e,a=_(o)?o:new Error(o+"");t._reject(o,a)}},A.prototype._spreadSlowCase=function(e,t,n,r){var i=new u(n).promise(),o=i._then(function(){return e.apply(r,arguments)},void 0,void 0,a,void 0);t._follow(o)},A.prototype._callSpread=function(e,t,n){var r=this._boundTo;if(p(n))for(var i=0,o=n.length;o>i;++i)if(l(n[i],void 0)instanceof A)return void this._spreadSlowCase(e,t,n,r);return t._pushContext(),g(e,n,r)},A.prototype._callHandler=function(e,t,n,r){var i;return t!==a||this.isRejected()?(n._pushContext(),i=v(e,t,r)):i=this._callSpread(e,n,r),n._popContext(),i},A.prototype._settlePromiseFromHandler=function(e,t,n,r){if(!(r instanceof A))return void e.call(t,n,r);var i=this._callHandler(e,t,r,n);if(!r._isFollowing())if(i===h||i===r||i===s){var o=i===r?E():i.e,a=_(o)?o:new Error(o+"");i!==s&&r._attachExtraTrace(a),r._rejectUnchecked(o,a)}else{var u=l(i,r);if(u instanceof A){if(u.isRejected()&&!u._isCarryingStackTrace()&&!_(u._settledValue)){var a=new Error(u._settledValue+"");r._attachExtraTrace(a),u._setCarriedStackTrace(a)}r._follow(u),r._propagateFrom(u,1)}else r._fulfillUnchecked(i)}},A.prototype._follow=function(e){this._setFollowing(),e.isPending()?(this._propagateFrom(e,1),e._proxyPromise(this)):e.isFulfilled()?this._fulfillUnchecked(e._settledValue):this._rejectUnchecked(e._settledValue,e._getCarriedStackTrace()),e._isRejectionUnhandled()&&e._unsetRejectionIsUnhandled(),
P&&null==e._traceParent&&(e._traceParent=this)},A.prototype._tryFollow=function(e){if(this._isFollowingOrFulfilledOrRejected()||e===this)return!1;var t=l(e,void 0);return t instanceof A?(this._follow(t),!0):!1},A.prototype._resetTrace=function(){P&&(this._trace=new f(void 0===this._peekContext()))},A.prototype._setTrace=function(e){if(P){var t=this._peekContext();this._traceParent=t;var n=void 0===t;void 0!==e&&e._traceParent===t?this._trace=e._trace:this._trace=new f(n)}return this},A.prototype._attachExtraTrace=function(e){if(P){var t=this,n=e.stack;n="string"==typeof n?n.split("\n"):[],f.protectErrorMessageNewlines(n);for(var r=1,i=1;null!=t&&null!=t._trace;)n=f.combine(n,t._trace.stack.split("\n")),t=t._traceParent,i++;var o=Error.stackTraceLimit||10,a=(o+r)*i,s=n.length;s>a&&(n.length=a),s>0&&(n[0]=n[0].split("\x00").join("\n")),n.length<=r?e.stack="(No stack trace)":e.stack=n.join("\n")}},A.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},A.prototype._propagateFrom=function(e,t){(1&t)>0&&e._cancellable()&&(this._setCancellable(),this._cancellationParent=e),(4&t)>0&&this._setBoundTo(e._boundTo),(2&t)>0&&this._setTrace(e)},A.prototype._fulfill=function(e){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(e)},A.prototype._reject=function(e,t){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(e,t)},A.prototype._settlePromiseAt=function(e){var t=this.isFulfilled()?this._fulfillmentHandlerAt(e):this._rejectionHandlerAt(e),n=this._settledValue,r=this._receiverAt(e),i=this._promiseAt(e);if("function"==typeof t)this._settlePromiseFromHandler(t,r,n,i);else{var o=!1,a=this.isFulfilled();void 0!==r&&(r instanceof A&&r._isProxied()?(r._unsetProxied(),a?r._fulfillUnchecked(n):r._rejectUnchecked(n,this._getCarriedStackTrace()),o=!0):r instanceof u&&(a?r._promiseFulfilled(n,i):r._promiseRejected(n,i),o=!0)),o||(a?i._fulfill(n):i._reject(n,this._getCarriedStackTrace()))}e>=256&&this._queueGC()},A.prototype._isProxied=function(){return 4194304===(4194304&this._bitField)},A.prototype._setProxied=function(){this._bitField=4194304|this._bitField},A.prototype._unsetProxied=function(){this._bitField=-4194305&this._bitField},A.prototype._isGcQueued=function(){return-1073741824===(-1073741824&this._bitField)},A.prototype._setGcQueued=function(){this._bitField=-1073741824|this._bitField},A.prototype._unsetGcQueued=function(){this._bitField=1073741823&this._bitField},A.prototype._queueGC=function(){this._isGcQueued()||(this._setGcQueued(),n.invokeLater(this._gc,this,void 0))},A.prototype._gc=function(){for(var e=5*this._length(),t=0;e>t;t++)delete this[t];this._setLength(0),this._unsetGcQueued()},A.prototype._queueSettleAt=function(e){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),n.invoke(this._settlePromiseAt,this,e)},A.prototype._fulfillUnchecked=function(e){if(this.isPending()){if(e===this){var t=E();return this._attachExtraTrace(t),this._rejectUnchecked(t,void 0)}this._cleanValues(),this._setFulfilled(),this._settledValue=e;var r=this._length();r>0&&n.invoke(this._settlePromises,this,r)}},A.prototype._rejectUncheckedCheckError=function(e){var t=_(e)?e:new Error(e+"");this._rejectUnchecked(e,t===e?void 0:t)},A.prototype._rejectUnchecked=function(e,t){if(this.isPending()){if(e===this){var r=E();return this._attachExtraTrace(r),this._rejectUnchecked(r)}if(this._cleanValues(),this._setRejected(),this._settledValue=e,this._isFinal())return void n.invokeLater(k,void 0,void 0===t?e:t);var i=this._length();void 0!==t&&this._setCarriedStackTrace(t),i>0?n.invoke(this._rejectPromises,this,null):this._ensurePossibleRejectionHandled()}},A.prototype._rejectPromises=function(){this._settlePromises(),this._unsetCarriedStackTrace()},A.prototype._settlePromises=function(){for(var e=this._length(),t=0;e>t;t++)this._settlePromiseAt(t)},A.prototype._ensurePossibleRejectionHandled=function(){this._setRejectionIsUnhandled(),void 0!==f.possiblyUnhandledRejection&&n.invokeLater(this._notifyUnhandledRejection,this,void 0)},A.prototype._notifyUnhandledRejectionIsHandled=function(){"function"==typeof N&&n.invokeLater(N,void 0,this)},A.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue,t=this._getCarriedStackTrace();this._setUnhandledRejectionIsNotified(),void 0!==t&&(this._unsetCarriedStackTrace(),e=t),"function"==typeof f.possiblyUnhandledRejection&&f.possiblyUnhandledRejection(e,this)}};var O=[];return A.prototype._peekContext=function(){var e=O.length-1;return e>=0?O[e]:void 0},A.prototype._pushContext=function(){P&&O.push(this)},A.prototype._popContext=function(){P&&O.pop()},A.noConflict=function(){return i(A)},A.setScheduler=function(e){if("function"!=typeof e)throw new b("fn must be a function");n._schedule=e},f.isSupported()||(A.longStackTraces=function(){},P=!1),A._makeSelfResolutionError=E,e("./finally.js")(A,s,l),e("./direct_resolve.js")(A),e("./synchronous_inspection.js")(A),e("./join.js")(A,u,l,o),A.RangeError=y,A.CancellationError=w,A.TimeoutError=x,A.TypeError=b,A.OperationalError=T,A.RejectionError=T,A.AggregateError=r.AggregateError,t.toFastProperties(A),t.toFastProperties(A.prototype),A.Promise=A,e("./timers.js")(A,o,l),e("./race.js")(A,o,l),e("./call_get.js")(A),e("./generators.js")(A,j,o,l),e("./map.js")(A,u,j,l,o),e("./nodeify.js")(A),e("./promisify.js")(A,o),e("./props.js")(A,u,l),e("./reduce.js")(A,u,j,l,o),e("./settle.js")(A,u),e("./some.js")(A,u,j),e("./progress.js")(A,u),e("./cancel.js")(A,o),e("./filter.js")(A,o),e("./any.js")(A,u),e("./each.js")(A,o),e("./using.js")(A,j,l),A.prototype=A.prototype,A}},{"./any.js":1,"./async.js":2,"./call_get.js":4,"./cancel.js":5,"./captured_trace.js":6,"./catch_filter.js":7,"./direct_resolve.js":8,"./each.js":9,"./errors.js":10,"./errors_api_rejection":11,"./filter.js":13,"./finally.js":14,"./generators.js":15,"./join.js":16,"./map.js":17,"./nodeify.js":18,"./progress.js":19,"./promise_array.js":21,"./promise_resolver.js":22,"./promisify.js":23,"./props.js":24,"./race.js":26,"./reduce.js":27,"./settle.js":29,"./some.js":30,"./synchronous_inspection.js":31,"./thenables.js":32,"./timers.js":33,"./using.js":34,"./util.js":35}],21:[function(e,t,n){"use strict";t.exports=function(t,n,r){function s(e){switch(e){case-1:return void 0;case-2:return[];case-3:return{}}}function l(e){var r=this._promise=new t(n),i=void 0;e instanceof t&&(i=e,r._propagateFrom(i,5)),r._setTrace(i),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var i=e("./errors.js").canAttach,o=e("./util.js"),a=o.isArray;return l.prototype.length=function(){return this._length},l.prototype.promise=function(){return this._promise},l.prototype._init=function c(e,n){var i=r(this._values,void 0);if(i instanceof t){if(this._values=i,i._setBoundTo(this._promise._boundTo),!i.isFulfilled())return i.isPending()?void i._then(c,this._reject,void 0,this,n):(i._unsetRejectionIsUnhandled(),void this._reject(i._settledValue));if(i=i._settledValue,!a(i)){var o=new t.TypeError("expecting an array, a promise or a thenable");return void this.__hardReject__(o)}}else if(!a(i)){var o=new t.TypeError("expecting an array, a promise or a thenable");return void this.__hardReject__(o)}if(0===i.length)return void(-5===n?this._resolveEmptyArray():this._resolve(s(n)));for(var l=this.getActualLength(i.length),u=l,f=this.shouldCopyValues()?new Array(l):this._values,d=!1,p=0;l>p;++p){var h=r(i[p],void 0);h instanceof t?h.isPending()?h._proxyPromiseArray(this,p):(h._unsetRejectionIsUnhandled(),d=!0):d=!0,f[p]=h}this._values=f,this._length=u,d&&this._scanDirectValues(l)},l.prototype._settlePromiseAt=function(e){var n=this._values[e];n instanceof t?n.isFulfilled()?this._promiseFulfilled(n._settledValue,e):n.isRejected()&&this._promiseRejected(n._settledValue,e):this._promiseFulfilled(n,e)},l.prototype._scanDirectValues=function(e){for(var t=0;e>t&&!this._isResolved();++t)this._settlePromiseAt(t)},l.prototype._isResolved=function(){return null===this._values},l.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},l.prototype.__hardReject__=l.prototype._reject=function(e){this._values=null;var t=i(e)?e:new Error(e+"");this._promise._attachExtraTrace(t),this._promise._reject(e,t)},l.prototype._promiseProgressed=function(e,t){this._isResolved()||this._promise._progress({index:t,value:e})},l.prototype._promiseFulfilled=function(e,t){if(!this._isResolved()){this._values[t]=e;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)}},l.prototype._promiseRejected=function(e,t){this._isResolved()||(this._totalResolved++,this._reject(e))},l.prototype.shouldCopyValues=function(){return!0},l.prototype.getActualLength=function(e){return e},l}},{"./errors.js":10,"./util.js":35}],22:[function(e,t,n){"use strict";function c(e){return e instanceof Error&&f.getPrototypeOf(e)===Error.prototype}function d(e){var t;return t=c(e)?new s(e):e,o.markAsOriginatingFromRejection(t),t}function p(e){function t(t,n){if(null!==e){if(t){var r=d(i(t));e._attachExtraTrace(r),e._reject(r)}else if(arguments.length>2){for(var o=arguments.length,a=new Array(o-1),s=1;o>s;++s)a[s-1]=arguments[s];e._fulfill(a)}else e._fulfill(n);e=null}}return t}var h,r=e("./util.js"),i=r.maybeWrapAsError,o=e("./errors.js"),a=o.TimeoutError,s=o.OperationalError,l=e("./async.js"),u=r.haveGetters,f=e("./es5.js");if(h=u?function(e){this.promise=e}:function(e){this.promise=e,this.asCallback=p(e),this.callback=this.asCallback},u){var v={get:function(){return p(this.promise)}};f.defineProperty(h.prototype,"asCallback",v),f.defineProperty(h.prototype,"callback",v)}h._nodebackForPromise=p,h.prototype.toString=function(){return"[object PromiseResolver]"},h.prototype.resolve=h.prototype.fulfill=function(e){if(!(this instanceof h))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.");var t=this.promise;t._tryFollow(e)||l.invoke(t._fulfill,t,e)},h.prototype.reject=function(e){if(!(this instanceof h))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.");var t=this.promise;o.markAsOriginatingFromRejection(e);var n=o.canAttach(e)?e:new Error(e+"");t._attachExtraTrace(n),l.invoke(t._reject,t,e),n!==e&&l.invoke(this._setCarriedStackTrace,this,n)},h.prototype.progress=function(e){if(!(this instanceof h))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.");l.invoke(this.promise._progress,this.promise,e)},h.prototype.cancel=function(){l.invoke(this.promise.cancel,this.promise,void 0)},h.prototype.timeout=function(){this.reject(new a("timeout"))},h.prototype.isResolved=function(){return this.promise.isResolved()},h.prototype.toJSON=function(){return this.promise.toJSON()},h.prototype._setCarriedStackTrace=function(e){this.promise.isRejected()&&this.promise._setCarriedStackTrace(e)},t.exports=h},{"./async.js":2,"./errors.js":10,"./es5.js":12,"./util.js":35}],23:[function(e,t,n){"use strict";t.exports=function(t,n){function p(e){return e.replace(/([$])/,"\\$")}function h(e){try{return e.__isPromisified__===!0}catch(t){return!1}}function v(e,t,n){var r=i.getDataPropertyOrDefault(e,t+n,d);return r?h(r):!1}function m(e,t,n){for(var r=0;r<e.length;r+=2){var i=e[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new u("Cannot promisify an API that has normal methods with '"+t+"'-suffix")}}function g(e,t,n,r){for(var o=i.inheritedDataKeys(e),a=[],s=0;s<o.length;++s){var l=o[s],u=e[l];"function"!=typeof u||h(u)||v(e,l,t)||!r(l,u,e)||a.push(l,u)}return m(a,t,n),a}function y(e){for(var t=[e],n=Math.max(0,e-1-5),r=e-1;r>=n;--r)r!==e&&t.push(r);for(var r=e+1;5>=r;++r)t.push(r);return t}function b(e){return i.filledRange(e,"arguments[","]")}function w(e){return i.filledRange(e,"_arg","")}function x(e){return"number"==typeof e.length?Math.max(Math.min(e.length,1024),0):0}function T(e){return i.isIdentifier(e)?"."+e:"['"+e.replace(/(['\\])/g,"\\$1")+"']"}function S(e,l,u,f,c){function v(t){var o,n=b(t).join(", "),i=t>0?", ":"";return o="string"==typeof e?"                                                          \n                this.method(args, fn);                                       \n                break;                                                       \n            ".replace(".method",T(e)):l===r?"                                                         \n                callback.call(this, args, fn);                               \n                break;                                                       \n            ":void 0!==l?"                                                         \n                callback.call(receiver, args, fn);                           \n                break;                                                       \n            ":"                                                         \n                callback(args, fn);                                          \n                break;                                                       \n            ",o.replace("args",n).replace(", ",i)}function m(){for(var t="",n=0;n<p.length;++n)t+="case "+p[n]+":"+v(p[n]);var i;return i="string"==typeof e?"                                                  \n                this.property.apply(this, args);                             \n            ".replace(".property",T(e)):l===r?"                                                  \n                callback.apply(this, args);                                  \n            ":"                                                  \n                callback.apply(receiver, args);                              \n            ",t+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = fn;                                                    \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",i)}var d=Math.max(0,x(f)-1),p=y(d),h="string"==typeof u&&i.isIdentifier(u)?u+c:"promisified";return new Function("Promise","callback","receiver","withAppended","maybeWrapAsError","nodebackForPromise","INTERNAL","                                         \n        var ret = function FunctionName(Parameters) {                        \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._setTrace(void 0);                                       \n            var fn = nodebackForPromise(promise);                            \n            try {                                                            \n                switch(len) {                                                \n                    [CodeForSwitchCase]                                      \n                }                                                            \n            } catch (e) {                                                    \n                var wrapped = maybeWrapAsError(e);                           \n                promise._attachExtraTrace(wrapped);                          \n                promise._reject(wrapped);                                    \n            }                                                                \n            return promise;                                                  \n        };                                                                   \n        ret.__isPromisified__ = true;                                        \n        return ret;                                                          \n        ".replace("FunctionName",h).replace("Parameters",w(d)).replace("[CodeForSwitchCase]",m()))(t,e,l,a,s,o,n)}function C(e,i){function l(){var l=i;i===r&&(l=this),"string"==typeof e&&(e=l[e]);var u=new t(n);u._setTrace(void 0);var f=o(u);try{e.apply(l,a(arguments,f))}catch(c){var d=s(c);u._attachExtraTrace(d),u._reject(d)}return u}return l.__isPromisified__=!0,l}function k(e,t,n,o){for(var a=new RegExp(p(t)+"$"),s=g(e,t,a,n),l=0,u=s.length;u>l;l+=2){var f=s[l],c=s[l+1],d=f+t;e[d]=o===_?_(f,r,f,c,t):o(c)}return i.toFastProperties(e),e}function j(e,t){return _(e,t,void 0,e)}var r={},i=e("./util.js"),o=e("./promise_resolver.js")._nodebackForPromise,a=i.withAppended,s=i.maybeWrapAsError,l=i.canEvaluate,u=e("./errors").TypeError,f="Async",c=function(e,t){return i.isIdentifier(e)&&"_"!==e.charAt(0)&&!i.isClass(t)},d={__isPromisified__:!0},_=l?S:C;t.promisify=function(e,t){if("function"!=typeof e)throw new u("fn must be a function");return h(e)?e:j(e,arguments.length<2?r:t)},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new u("the target of promisifyAll must be an object or a function");t=Object(t);var n=t.suffix;"string"!=typeof n&&(n=f);var r=t.filter;"function"!=typeof r&&(r=c);var o=t.promisifier;if("function"!=typeof o&&(o=_),!i.isIdentifier(n))throw new RangeError("suffix must be a valid identifier");for(var a=i.inheritedDataKeys(e,{includeHidden:!0}),s=0;s<a.length;++s){var l=e[a[s]];"constructor"!==a[s]&&i.isClass(l)&&(k(l.prototype,n,r,o),k(l,n,r,o))}return k(e,n,r,o)}}},{"./errors":10,"./promise_resolver.js":22,"./util.js":35}],24:[function(e,t,n){"use strict";t.exports=function(t,n,r){function l(e){for(var t=s.keys(e),n=t.length,r=new Array(2*n),i=0;n>i;++i){var o=t[i];r[i]=e[o],r[i+n]=o}this.constructor$(r)}function u(e){var n,i=r(e,void 0);return a(i)?(n=i instanceof t?i._then(t.props,void 0,void 0,void 0,void 0):new l(i).promise(),i instanceof t&&n._propagateFrom(i,4),n):o("cannot await properties of a non-object")}var i=e("./util.js"),o=e("./errors_api_rejection")(t),a=i.isObject,s=e("./es5.js");i.inherits(l,n),l.prototype._init=function(){this._init$(void 0,-3)},l.prototype._promiseFulfilled=function(e,t){if(!this._isResolved()){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){for(var r={},i=this.length(),o=0,a=this.length();a>o;++o)r[this._values[o+i]]=this._values[o];this._resolve(r)}}},l.prototype._promiseProgressed=function(e,t){this._isResolved()||this._promise._progress({key:this._values[t+this.length()],value:e})},l.prototype.shouldCopyValues=function(){return!1},l.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return u(this)},t.props=function(e){return u(e)}}},{"./errors_api_rejection":11,"./es5.js":12,"./util.js":35}],25:[function(e,t,n){"use strict";function r(e,t,n,r,i){for(var o=0;i>o;++o)n[o+r]=e[o+t]}function i(e){this._capacity=e,this._length=0,this._front=0,this._makeCapacity()}i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var n=this._front+t&this._capacity-1;this[n]=e,this._length=t+1},i.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=e,this[i+1&o]=t,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._makeCapacity=function(){for(var e=this._capacity,t=0;e>t;++t)this[t]=void 0},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<3)},i.prototype._resizeTo=function(e){var t=this._front,n=this._capacity,i=new Array(n),o=this.length();if(r(this,0,i,0,n),this._capacity=e,this._makeCapacity(),this._front=0,n>=t+o)r(i,t,this,0,o);else{var a=o-(t+o&n-1);r(i,t,this,0,a),r(i,0,this,a,o-a)}},t.exports=i},{}],26:[function(e,t,n){"use strict";t.exports=function(t,n,r){function l(e,l){var u=r(e,void 0);if(u instanceof t)return a(u);if(!o(e))return i("expecting an array, a promise or a thenable");var f=new t(n);void 0!==l?f._propagateFrom(l,7):f._setTrace(void 0);for(var c=f._fulfill,d=f._reject,p=0,h=e.length;h>p;++p){var v=e[p];(void 0!==v||s.call(e,p))&&t.cast(v)._then(c,d,void 0,f,null)}return f}var i=e("./errors_api_rejection.js")(t),o=e("./util.js").isArray,a=function(e){return e.then(function(t){return l(t,e)})},s={}.hasOwnProperty;t.race=function(e){return l(e,void 0)},t.prototype.race=function(){return l(this,void 0)}}},{"./errors_api_rejection.js":11,"./util.js":35}],27:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){function f(e,n,r,a){this.constructor$(e),this._preservedValues=a===o?[]:null,this._zerothIsAccum=void 0===r,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var s=i(r,void 0),l=!1,u=s instanceof t;u&&(s.isPending()?s._proxyPromiseArray(this,-1):s.isFulfilled()?(r=s.value(),this._gotAccum=!0):(s._unsetRejectionIsUnhandled(),this._reject(s.reason()),l=!0)),u||this._zerothIsAccum||(this._gotAccum=!0),this._callback=n,this._accum=r,l||this._init$(void 0,-5)}function c(e,t,n,i){if("function"!=typeof t)return r("fn must be a function");var o=new f(e,t,n,i);return o.promise()}var a=e("./util.js"),s=a.tryCatch4,l=a.tryCatch3,u=a.errorObj;a.inherits(f,n),f.prototype._init=function(){},f.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},f.prototype._promiseFulfilled=function(e,n){var r=this._values;if(null!==r){var p,o=this.length(),a=this._preservedValues,f=null!==a,c=this._gotAccum,d=this._valuesPhase;if(!d)for(d=this._valuesPhase=Array(o),p=0;o>p;++p)d[p]=0;if(p=d[n],0===n&&this._zerothIsAccum?(c||(this._accum=e,this._gotAccum=c=!0),d[n]=0===p?1:2):-1===n?c||(this._accum=e,this._gotAccum=c=!0):0===p?d[n]=1:(d[n]=2,c&&(this._accum=e)),c){for(var m,h=this._callback,v=this._promise._boundTo,g=this._reducingIndex;o>g;++g)if(p=d[g],2!==p){if(1!==p)return;if(e=r[g],e instanceof t){if(!e.isFulfilled())return e.isPending()?void 0:(e._unsetRejectionIsUnhandled(),this._reject(e.reason()));e=e._settledValue}if(f?(a.push(e),m=l(h,v,e,g,o)):m=s(h,v,this._accum,e,g,o),m===u)return this._reject(m.e);var y=i(m,void 0);if(y instanceof t){if(y.isPending())return d[g]=4,y._proxyPromiseArray(this,g);if(!y.isFulfilled())return y._unsetRejectionIsUnhandled(),this._reject(y.reason());m=y.value()}this._reducingIndex=g+1,this._accum=m}else this._reducingIndex=g+1;this._reducingIndex<o||this._resolve(f?a:this._accum)}}},t.prototype.reduce=function(e,t){return c(this,e,t,null)},t.reduce=function(e,t,n,r){return c(e,t,n,r)}}},{"./util.js":35}],28:[function(e,t,n){"use strict";var r,i;if("object"==typeof process&&"string"==typeof process.version)r=function(e){process.nextTick(e)};else if("undefined"!=typeof MutationObserver&&(i=MutationObserver)||"undefined"!=typeof WebKitMutationObserver&&(i=WebKitMutationObserver))r=function(){var e=document.createElement("div"),t=void 0,n=new i(function(){var e=t;t=void 0,e()});return n.observe(e,{attributes:!0}),function(n){t=n,e.setAttribute("class","foo")}}();else{if("undefined"==typeof setTimeout)throw new Error("no async scheduler available");r=function(e){setTimeout(e,0)}}t.exports=r},{}],29:[function(e,t,n){"use strict";t.exports=function(t,n){function o(e){this.constructor$(e)}var r=t.PromiseInspection,i=e("./util.js");i.inherits(o,n),o.prototype._promiseResolved=function(e,t){this._values[e]=t;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},o.prototype._promiseFulfilled=function(e,t){if(!this._isResolved()){var n=new r;n._bitField=268435456,n._settledValue=e,this._promiseResolved(t,n)}},o.prototype._promiseRejected=function(e,t){if(!this._isResolved()){var n=new r;n._bitField=134217728,n._settledValue=e,this._promiseResolved(t,n)}},t.settle=function(e){return new o(e).promise()},t.prototype.settle=function(){return new o(this).promise()}}},{"./util.js":35}],30:[function(e,t,n){"use strict";t.exports=function(t,n,r){function l(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function u(e,t){if((0|t)!==t||0>t)return r("expecting a positive integer");var n=new l(e),i=n.promise();return i.isRejected()?i:(n.setHowMany(t),n.init(),i)}var i=e("./util.js"),o=e("./errors.js").RangeError,a=e("./errors.js").AggregateError,s=i.isArray;i.inherits(l,n),l.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=s(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(e){this._isResolved()||(this._howMany=e)},l.prototype._promiseFulfilled=function(e){this._isResolved()||(this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values)))},l.prototype._promiseRejected=function(e){if(!this._isResolved()&&(this._addRejected(e),this.howMany()>this._canPossiblyFulfill())){for(var t=new a,n=this.length();n<this._values.length;++n)t.push(this._values[n]);this._reject(t)}},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(e){this._values.push(e)},l.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new o(t)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return u(e,t)},t.prototype.some=function(e){return u(this,e)},t._SomePromiseArray=l}},{"./errors.js":10,"./util.js":35}],31:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(this._bitField=e._bitField,this._settledValue=e.isResolved()?e._settledValue:void 0):(this._bitField=0,this._settledValue=void 0)}t.prototype.isFulfilled=e.prototype.isFulfilled=function(){return(268435456&this._bitField)>0},t.prototype.isRejected=e.prototype.isRejected=function(){return(134217728&this._bitField)>0},t.prototype.isPending=e.prototype.isPending=function(){return 0===(402653184&this._bitField)},t.prototype.value=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise");return this._settledValue},t.prototype.error=t.prototype.reason=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise");return this._settledValue},t.prototype.isResolved=e.prototype.isResolved=function(){return(402653184&this._bitField)>0},e.PromiseInspection=t}},{}],32:[function(e,t,n){"use strict";t.exports=function(t,n){function s(e){try{return e.then}catch(t){return o.e=t,o}}function l(e,r){if(a(e)){if(e instanceof t)return e;if(f(e)){var l=new t(n);return l._setTrace(void 0),e._then(l._fulfillUnchecked,l._rejectUncheckedCheckError,l._progressUnchecked,l,null),l._setFollowing(),l}var u=s(e);if(u===o)return void 0!==r&&i(u.e)&&r._attachExtraTrace(u.e),t.reject(u.e);if("function"==typeof u)return c(e,u,r)}return e}function f(e){return u.call(e,"_promise0")}function c(e,n,r){function u(n){if(!a){if(a=!0,e===n){var i=t._makeSelfResolutionError();return void 0!==r&&r._attachExtraTrace(i),void o.promise._reject(i,void 0)}o.resolve(n)}}function f(e){if(!a){a=!0;var t=i(e)?e:new Error(e+"");void 0!==r&&r._attachExtraTrace(t),o.promise._reject(e,t)}}function c(e){if(!a){var t=o.promise;"function"==typeof t._progress&&t._progress(e)}}var o=t.defer(),a=!1;try{n.call(e,u,f,c)}catch(s){if(!a){a=!0;var l=i(s)?s:new Error(s+"");void 0!==r&&r._attachExtraTrace(l),o.promise._reject(s,l)}}return o.promise}var r=e("./util.js"),i=e("./errors.js").canAttach,o=r.errorObj,a=r.isObject,u={}.hasOwnProperty;return l}},{"./errors.js":10,"./util.js":35}],33:[function(e,t,n){"use strict";var r=function(e,t){var n=arguments.length,r=arguments[2],i=arguments[3],o=n>=5?arguments[4]:void 0;setTimeout(function(){e(r,i,o)},t)};t.exports=function(t,n,i){var a=(e("./util.js"),e("./errors.js")),l=(e("./errors_api_rejection")(t),t.TimeoutError),u=function(e,t,n){if(e.isPending()){"string"!=typeof t&&(t="operation timed out after "+n+" ms");var r=new l(t);a.markAsOriginatingFromRejection(r),e._attachExtraTrace(r),e._cancel(r)}},f=function(e,t){t._fulfill(e)},c=t.delay=function(e,o){void 0===o&&(o=e,e=void 0),o=+o;var a=i(e,void 0),s=new t(n);return a instanceof t?(s._propagateFrom(a,7),s._follow(a),s.then(function(e){return t.delay(e,o)})):(s._setTrace(void 0),r(f,o,e,s),s)};t.prototype.delay=function(e){return c(this,e)},t.prototype.timeout=function(e,i){e=+e;var o=new t(n);return o._propagateFrom(this,7),o._follow(this),r(u,e,o,i,e),o.cancellable()}}},{"./errors.js":10,"./errors_api_rejection":11,"./util.js":35}],34:[function(e,t,n){"use strict";t.exports=function(t,n,r){function s(e){for(var n=e.length,r=0;n>r;++r){var i=e[r];if(i.isRejected())return t.reject(i.error());e[r]=i.value()}return e}function l(e){setTimeout(function(){throw e},0)}function u(e,n){function s(){if(i>=o)return a.resolve();var u=r(e[i++],void 0);if(u instanceof t&&u._isDisposable()){try{u=r(u._getDisposer().tryDispose(n),void 0)}catch(f){return l(f)}if(u instanceof t)return u._then(s,l,null,null,null)}s()}var i=0,o=e.length,a=t.defer();return s(),a.promise}function f(e){var t=new a;return t._settledValue=e,t._bitField=268435456,u(this,t).thenReturn(e)}function c(e){var t=new a;return t._settledValue=e,t._bitField=134217728,u(this,t).thenThrow(e)}function d(e,t){this._data=e,this._promise=t}function p(e,t){this.constructor$(e,t)}var i=e("./errors.js").TypeError,o=e("./util.js").inherits,a=t.PromiseInspection;d.prototype.data=function(){return this._data},d.prototype.promise=function(){return this._promise},d.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},d.prototype.tryDispose=function(e){var t=this.resource(),n=null!==t?this.doDispose(t,e):null;return this._promise._unsetDisposable(),this._data=this._promise=null,n},o(p,d),p.prototype.doDispose=function(e,t){var n=this.data();return n.call(e,e,t)},t.using=function(){var e=arguments.length;if(2>e)return n("you must pass at least 2 arguments to Promise.using");var r=arguments[e-1];if("function"!=typeof r)return n("fn must be a function");e--;for(var i=new Array(e),o=0;e>o;++o){var a=arguments[o];if(a instanceof d){var l=a;a=a.promise(),a._setDisposable(l)}i[o]=a}return t.settle(i).then(s).spread(r)._then(f,c,void 0,i,void 0)},t.prototype._setDisposable=function(e){this._bitField=262144|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(262144&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-262145&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new p(e,this);throw new i}};
},{"./errors.js":10,"./util.js":35}],35:[function(require,module,exports){"use strict";function tryCatch1(e,t,n){try{return e.call(t,n)}catch(r){return errorObj.e=r,errorObj}}function tryCatch2(e,t,n,r){try{return e.call(t,n,r)}catch(i){return errorObj.e=i,errorObj}}function tryCatch3(e,t,n,r,i){try{return e.call(t,n,r,i)}catch(o){return errorObj.e=o,errorObj}}function tryCatch4(e,t,n,r,i,o){try{return e.call(t,n,r,i,o)}catch(a){return errorObj.e=a,errorObj}}function tryCatchApply(e,t,n){try{return e.apply(n,t)}catch(r){return errorObj.e=r,errorObj}}function asString(e){return"string"==typeof e?e:""+e}function isPrimitive(e){return null==e||e===!0||e===!1||"string"==typeof e||"number"==typeof e}function isObject(e){return!isPrimitive(e)}function maybeWrapAsError(e){return isPrimitive(e)?new Error(asString(e)):e}function withAppended(e,t){var i,n=e.length,r=new Array(n+1);for(i=0;n>i;++i)r[i]=e[i];return r[i]=t,r}function getDataPropertyOrDefault(e,t,n){if(!es5.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function notEnumerableProp(e,t,n){if(isPrimitive(e))return e;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return es5.defineProperty(e,t,r),e}function thrower(e){throw e}function isClass(e){try{if("function"==typeof e){var t=es5.keys(e.prototype);return t.length>0&&!(1===t.length&&"constructor"===t[0])}return!1}catch(n){return!1}}function toFastProperties(obj){function f(){}return f.prototype=obj,f}function isIdentifier(e){return rident.test(e)}function filledRange(e,t,n){for(var r=new Array(e),i=0;e>i;++i)r[i]=t+i+n;return r}var es5=require("./es5.js"),haveGetters=function(){try{var e={};return es5.defineProperty(e,"f",{get:function(){return 3}}),3===e.f}catch(t){return!1}}(),canEvaluate="undefined"==typeof navigator,errorObj={e:{}},inherits=function(e,t){function r(){this.constructor=e,this.constructor$=t;for(var r in t.prototype)n.call(t.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=t.prototype[r])}var n={}.hasOwnProperty;return r.prototype=t.prototype,e.prototype=new r,e.prototype},wrapsPrimitiveReceiver=function(){return"string"!==this}.call("string"),inheritedDataKeys=function(){return es5.isES5?function(e,t){for(var n=[],r=Object.create(null),i=Object(t).includeHidden?Object.getOwnPropertyNames:Object.keys;null!=e;){var o;try{o=i(e)}catch(a){return n}for(var s=0;s<o.length;++s){var l=o[s];if(!r[l]){r[l]=!0;var u=Object.getOwnPropertyDescriptor(e,l);null!=u&&null==u.get&&null==u.set&&n.push(l)}}e=es5.getPrototypeOf(e)}return n}:function(e){var t=[];for(var n in e)t.push(n);return t}}(),rident=/^[a-z$_][a-z$_0-9]*$/i,ret={isClass:isClass,isIdentifier:isIdentifier,inheritedDataKeys:inheritedDataKeys,getDataPropertyOrDefault:getDataPropertyOrDefault,thrower:thrower,isArray:es5.isArray,haveGetters:haveGetters,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,isObject:isObject,canEvaluate:canEvaluate,errorObj:errorObj,tryCatch1:tryCatch1,tryCatch2:tryCatch2,tryCatch3:tryCatch3,tryCatch4:tryCatch4,tryCatchApply:tryCatchApply,inherits:inherits,withAppended:withAppended,asString:asString,maybeWrapAsError:maybeWrapAsError,wrapsPrimitiveReceiver:wrapsPrimitiveReceiver,toFastProperties:toFastProperties,filledRange:filledRange};module.exports=ret},{"./es5.js":12}]},{},[3])(3)});