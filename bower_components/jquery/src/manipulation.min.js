define(["./core","./var/concat","./var/push","./core/access","./manipulation/var/rcheckableType","./manipulation/support","./data/var/data_priv","./data/var/data_user","./core/init","./data/accepts","./traversing","./selector","./event"],function(e,t,n,i,r,o,a,s){function g(t,n){return e.nodeName(t,"table")&&e.nodeName(11!==n.nodeType?n:n.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function b(e){var t=h.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n=0,i=e.length;i>n;n++)a.set(e[n],"globalEval",!t||a.get(t[n],"globalEval"))}function x(t,n){var i,r,o,l,u,f,c,d;if(1===n.nodeType){if(a.hasData(t)&&(l=a.access(t),u=a.set(n,l),d=l.events)){delete u.handle,u.events={};for(o in d)for(i=0,r=d[o].length;r>i;i++)e.event.add(n,o,d[o][i])}s.hasData(t)&&(f=s.access(t),c=e.extend({},f),s.set(n,c))}}function T(t,n){var i=t.getElementsByTagName?t.getElementsByTagName(n||"*"):t.querySelectorAll?t.querySelectorAll(n||"*"):[];return void 0===n||n&&e.nodeName(t,n)?e.merge([t],i):i}function S(e,t){var n=t.nodeName.toLowerCase();"input"===n&&r.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}var l=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,u=/<([\w:]+)/,f=/<|&#?\w+;/,c=/<(?:script|style|link)/i,d=/checked\s*(?:[^=]|=\s*.checked.)/i,p=/^$|\/(?:java|ecma)script/i,h=/^true\/(.*)/,v=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,m={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};return m.optgroup=m.option,m.tbody=m.tfoot=m.colgroup=m.caption=m.thead,m.th=m.td,e.extend({clone:function(t,n,i){var r,a,s,l,u=t.cloneNode(!0),f=e.contains(t.ownerDocument,t);if(!(o.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||e.isXMLDoc(t)))for(l=T(u),s=T(t),r=0,a=s.length;a>r;r++)S(s[r],l[r]);if(n)if(i)for(s=s||T(t),l=l||T(u),r=0,a=s.length;a>r;r++)x(s[r],l[r]);else x(t,u);return l=T(u,"script"),l.length>0&&w(l,!f&&T(t,"script")),u},buildFragment:function(t,n,i,r){for(var o,a,s,c,d,h,v=n.createDocumentFragment(),g=[],y=0,b=t.length;b>y;y++)if(o=t[y],o||0===o)if("object"===e.type(o))e.merge(g,o.nodeType?[o]:o);else if(f.test(o)){for(a=a||v.appendChild(n.createElement("div")),s=(u.exec(o)||["",""])[1].toLowerCase(),c=m[s]||m._default,a.innerHTML=c[1]+o.replace(l,"<$1></$2>")+c[2],h=c[0];h--;)a=a.lastChild;e.merge(g,a.childNodes),a=v.firstChild,a.textContent=""}else g.push(n.createTextNode(o));for(v.textContent="",y=0;o=g[y++];)if((!r||-1===e.inArray(o,r))&&(d=e.contains(o.ownerDocument,o),a=T(v.appendChild(o),"script"),d&&w(a),i))for(h=0;o=a[h++];)p.test(o.type||"")&&i.push(o);return v},cleanData:function(t){for(var n,i,r,o,l=e.event.special,u=0;void 0!==(i=t[u]);u++){if(e.acceptData(i)&&(o=i[a.expando],o&&(n=a.cache[o]))){if(n.events)for(r in n.events)l[r]?e.event.remove(i,r):e.removeEvent(i,r,n.handle);a.cache[o]&&delete a.cache[o]}delete s.cache[i[s.expando]]}}}),e.fn.extend({text:function(t){return i(this,function(t){return void 0===t?e.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(t,n){for(var i,r=t?e.filter(t,this):this,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||e.cleanData(T(i)),i.parentNode&&(n&&e.contains(i.ownerDocument,i)&&w(T(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,n=0;null!=(t=this[n]);n++)1===t.nodeType&&(e.cleanData(T(t,!1)),t.textContent="");return this},clone:function(t,n){return t=null==t?!1:t,n=null==n?t:n,this.map(function(){return e.clone(this,t,n)})},html:function(t){return i(this,function(t){var n=this[0]||{},i=0,r=this.length;if(void 0===t&&1===n.nodeType)return n.innerHTML;if("string"==typeof t&&!c.test(t)&&!m[(u.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(l,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(e.cleanData(T(n,!1)),n.innerHTML=t);n=0}catch(o){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(n){t=this.parentNode,e.cleanData(T(this)),t&&t.replaceChild(n,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(n,i){n=t.apply([],n);var r,s,l,u,f,c,h=0,m=this.length,g=this,w=m-1,x=n[0],S=e.isFunction(x);if(S||m>1&&"string"==typeof x&&!o.checkClone&&d.test(x))return this.each(function(e){var t=g.eq(e);S&&(n[0]=x.call(this,e,t.html())),t.domManip(n,i)});if(m&&(r=e.buildFragment(n,this[0].ownerDocument,!1,this),s=r.firstChild,1===r.childNodes.length&&(r=s),s)){for(l=e.map(T(r,"script"),y),u=l.length;m>h;h++)f=r,h!==w&&(f=e.clone(f,!0,!0),u&&e.merge(l,T(f,"script"))),i.call(this[h],f,h);if(u)for(c=l[l.length-1].ownerDocument,e.map(l,b),h=0;u>h;h++)f=l[h],p.test(f.type||"")&&!a.access(f,"globalEval")&&e.contains(c,f)&&(f.src?e._evalUrl&&e._evalUrl(f.src):e.globalEval(f.textContent.replace(v,"")))}return this}}),e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,i){e.fn[t]=function(t){for(var r,o=[],a=e(t),s=a.length-1,l=0;s>=l;l++)r=l===s?this:this.clone(!0),e(a[l])[i](r),n.apply(o,r.get());return this.pushStack(o)}}),e});